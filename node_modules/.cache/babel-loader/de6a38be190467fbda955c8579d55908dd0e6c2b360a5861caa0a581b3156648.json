{"ast":null,"code":"import'./App.css';import{useEffect,useState}from'react';import News from'./News';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){let[articles,setArticles]=useState([]);let[category,setCategory]=useState(\"india\");function getPreviousDayDate(){const currentDate=new Date();currentDate.setDate(currentDate.getDate()-1);const year=currentDate.getFullYear();const month=String(currentDate.getMonth()+1).padStart(2,'0');const day=String(currentDate.getDate()).padStart(2,'0');return\"\".concat(year,\"-\").concat(month,\"-\").concat(day);}useEffect(()=>{const previousDayDate=getPreviousDayDate();console.log(previousDayDate);// Add optional chaining and defaulting in case of missing response fields\nfetch(\"https://newsapi.org/v2/everything?q=\".concat(category,\"&from=\").concat(previousDayDate,\"&apiKey=af8ab6c0c9dd4e23b97bb6e34c228f49\")).then(response=>response.json()).then(news=>{var _news$articles;// Safely accessing properties\nsetArticles((_news$articles=news.articles)!==null&&_news$articles!==void 0?_news$articles:[]);console.log(news.articles);}).catch(err=>{console.log('Error fetching news:',err);setArticles([]);// Set to empty array in case of error to prevent crashes\n});},[category]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Parso Tak\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:event=>{setCategory(event.target.value||\"india\");},placeholder:\"Search News\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"news-articles\",children:articles.length!==0?articles.map((article,index)=>/*#__PURE__*/_jsx(News,{article:article},index)):/*#__PURE__*/_jsx(\"h3\",{children:\"No News Found For Searched Text\"})})]});}export default App;","map":{"version":3,"names":["useEffect","useState","News","jsx","_jsx","jsxs","_jsxs","App","articles","setArticles","category","setCategory","getPreviousDayDate","currentDate","Date","setDate","getDate","year","getFullYear","month","String","getMonth","padStart","day","concat","previousDayDate","console","log","fetch","then","response","json","news","_news$articles","catch","err","className","children","type","onChange","event","target","value","placeholder","length","map","article","index"],"sources":["C:/Users/Rohan Patalay/Documents/News-Page-Using-React/src/App.js"],"sourcesContent":["import './App.css';\nimport { useEffect, useState } from 'react';\nimport News from './News';\n\nfunction App() {\n  let [articles, setArticles] = useState([]);\n  let [category, setCategory] = useState(\"india\");\n\n  function getPreviousDayDate() {\n    const currentDate = new Date();\n    currentDate.setDate(currentDate.getDate() - 1);\n\n    const year = currentDate.getFullYear();\n    const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n    const day = String(currentDate.getDate()).padStart(2, '0');\n\n    return `${year}-${month}-${day}`;\n  }\n\n  useEffect(() => {\n    const previousDayDate = getPreviousDayDate();\n    console.log(previousDayDate);\n\n    // Add optional chaining and defaulting in case of missing response fields\n    fetch(`https://newsapi.org/v2/everything?q=${category}&from=${previousDayDate}&apiKey=af8ab6c0c9dd4e23b97bb6e34c228f49`)\n      .then((response) => response.json())\n      .then((news) => {\n        // Safely accessing properties\n        setArticles(news.articles ?? []);\n        console.log(news.articles);\n      })\n      .catch((err) => {\n        console.log('Error fetching news:', err);\n        setArticles([]);  // Set to empty array in case of error to prevent crashes\n      });\n  }, [category]);\n\n  return (\n    <div className=\"App\">\n      <header className='header'>\n        <h1>Parso Tak</h1>\n        <input\n          type='text'\n          onChange={(event) => {\n            setCategory(event.target.value || \"india\");\n          }}\n          placeholder='Search News'\n        />\n      </header>\n\n      <section className='news-articles'>\n        {articles.length !== 0 ? (\n          articles.map((article, index) => (\n            <News key={index} article={article} />\n          ))\n        ) : (\n          <h3>No News Found For Searched Text</h3>\n        )}\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}